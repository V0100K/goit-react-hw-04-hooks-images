(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(18),o=a.n(r),i=a(4),s=a(0),l=function(e){var t=e.onSubmitHandler,a=Object(n.useState)(""),c=Object(i.a)(a,2),r=c[0],o=c[1];return Object(s.jsx)("header",{className:"SearchBar",children:Object(s.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),t(r)},children:[Object(s.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(s.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(s.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",name:"searchInput",value:r,autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){var t=e.target.value;o(t)}})]})})},u=function(e){var t=e.ModalCloseClickHandler,a=e.ModalCloseKeyHandler,c=e.largePic;return Object(n.useEffect)((function(){window.addEventListener("keydown",a)}),[]),Object(n.useEffect)((function(){return function(){window.removeEventListener("keydown",a)}}),[]),Object(s.jsx)("div",{className:"Overlay",onClick:t,children:Object(s.jsx)("div",{className:"Modal",children:Object(s.jsx)("img",{src:c,alt:"Large pic"})})})},d=function(e){var t=e.largeImageURL,a=e.webformatURL,c=Object(n.useState)(!1),r=Object(i.a)(c,2),o=r[0],l=r[1];return Object(s.jsxs)("li",{className:"ImageGalleryItem",children:[!0===o&&Object(s.jsx)(u,{ModalCloseClickHandler:function(e){"DIV"===e.target.tagName&&l(!1)},ModalCloseKeyHandler:function(e){"Escape"===e.key&&l(!1)},largePic:t}),Object(s.jsx)("a",{href:t,onClick:function(e){e.preventDefault(),l(!0)},children:Object(s.jsx)("img",{src:a,alt:"",className:"ImageGalleryItem-image"})})]})},j=function(e){var t=e.gallery;return Object(s.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){var t=e.id,a=e.webformatURL,n=e.largeImageURL;return Object(s.jsx)(d,{webformatURL:a,largeImageURL:n},t)}))})},m=a(7),b=a.n(m),h=function(e){var t=e.onClick,a=e.children,n=e.status;return Object(s.jsxs)("div",{className:b.a.loader_wrapper,children:[Object(s.jsx)("div",{className:b.a.loader,children:"pending"===n&&a()}),"resolved"===n&&Object(s.jsx)("button",{className:b.a.Button,type:"button",onClick:t,children:"Load more"})]})},f=a(19),g=a.n(f);var O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,a={key:"24259107-5370b13ebcd4de04825255a0d",q:"",image_type:"photo",orientation:"horizontal",safesearch:"true",per_page:12,page:1};a.q=e,a.page=t;var n=g.a.get("https://pixabay.com/api/",{params:a});return n.then((function(e){return e.data}))},p=a(20),v=a.n(p),x=(a(17),function(){return Object(s.jsx)(v.a,{className:"Loader",type:"MutatingDots",color:"#00BFFF",height:80,width:80,timeout:4e3})}),w=(a(64),function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)("idle"),o=Object(i.a)(r,2),u=o[0],d=o[1],m=Object(n.useState)(""),b=Object(i.a)(m,2),f=b[0],g=b[1],p=Object(n.useState)(1),v=Object(i.a)(p,2),w=v[0],y=v[1],S=function(e){c([]),y(1),""===e.trim()?(d("idle"),g(e)):g(e)};return Object(n.useEffect)((function(){""!==f.trim()&&(d("pending"),O(f,w).then((function(e){var t=e.hits;c((function(e){return e.concat(t.map((function(e){return{id:e.id,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL}})))})),d("resolved"),w>1&&window.scrollBy({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){throw alert(e.message),e})))}),[f,w]),"idle"===u?Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(l,{onSubmitHandler:S}),"Please type what you want to find..."]}):Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(l,{onSubmitHandler:S}),("pending"===u||"resolved"===u)&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(j,{gallery:a}),Object(s.jsx)(h,{onClick:function(){y((function(e){return e+1}))},status:u,children:function(){return Object(s.jsx)(x,{color:"tomato",height:100,width:100})}})]})]})});o.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(w,{})}),document.getElementById("root"))},7:function(e,t,a){}},[[65,1,2]]]);
//# sourceMappingURL=main.3adcf5d6.chunk.js.map