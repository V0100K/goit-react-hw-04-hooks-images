{"version":3,"sources":["components/Searchbar/Searchbar.jsx","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","services/ApiService.js","components/Loader/Loader.jsx","App.js","index.js"],"names":["SearchBar","onSubmitHandler","useState","searchInput","setSearchInput","className","onSubmit","event","preventDefault","type","autoComplete","name","value","autoFocus","placeholder","onChange","e","target","Modal","ModalCloseClickHandler","ModalCloseKeyHandler","largePic","useEffect","window","addEventListener","removeEventListener","onClick","src","alt","ImageGalleryItem","largeImageURL","webformatURL","isModal","setIsModal","tagName","key","href","ImageGallery","gallery","map","id","Button","children","status","getServerResponse","q","page","sendParam","image_type","orientation","safesearch","per_page","response","axios","get","params","then","data","LoaderPreLoader","color","height","width","timeout","App","setGallery","setStatus","searchQuery","setSearchQuery","setPage","trim","hits","prevGallery","concat","scrollBy","top","document","documentElement","scrollHeight","behavior","catch","err","alert","message","prevPage","Loader","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5f4d1f32.chunk.js","sourcesContent":["// import { useState } from 'react';\r\n//\r\n// const SearchForm = ({ onSubmit }) => {\r\n//   const [query, setQuery] = useState('');\r\n//\r\n//   const handleChange = e => {\r\n//     const queryValue = e.currentTarget.value.toLowerCase().trim();\r\n//     setQuery(queryValue);\r\n//   };\r\n//   const handleSubmit = e => {\r\n//     e.preventDefault();\r\n//     onSubmit(query);\r\n//     setQuery('');\r\n//   };\r\n//\r\n//   return (\r\n//     <header className=\"Searchbar\">\r\n//       <form className=\"SearchForm\" onSubmit={handleSubmit}>\r\n//         <button type=\"submit\" className=\"SearchForm-button\"></button>\r\n//\r\n//         <input\r\n//           className=\"SearchForm-input\"\r\n//           type=\"text\"\r\n//           value={query}\r\n//           autoComplete=\"off\"\r\n//           autoFocus\r\n//           placeholder=\"Search images and photos\"\r\n//           onChange={handleChange}\r\n//         />\r\n//       </form>\r\n//     </header>\r\n//   );\r\n// };\r\n//\r\n//\r\n// export default SearchForm;\r\n\r\nimport { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst SearchBar = ({ onSubmitHandler }) => {\r\n  const [searchInput, setSearchInput] = useState('');\r\n\r\n  const onSubmit = event => {\r\n    event.preventDefault();\r\n    onSubmitHandler(searchInput);\r\n  };\r\n\r\n  const onInputChange = e => {\r\n    const { value } = e.target;\r\n    setSearchInput(value);\r\n  };\r\n\r\n  return (\r\n    <header className=\"SearchBar\">\r\n      <form className=\"SearchForm\" onSubmit={onSubmit}>\r\n        <button type=\"submit\" className=\"SearchForm-button\">\r\n          <span className=\"SearchForm-button-label\">Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className=\"SearchForm-input\"\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          name=\"searchInput\"\r\n          value={searchInput}\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          onChange={onInputChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nSearchBar.propTypes = {\r\n  onSubmitHandler: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SearchBar;","import PropTypes from 'prop-types';\r\nimport { useEffect } from 'react';\r\n\r\nconst Modal = ({ ModalCloseClickHandler, ModalCloseKeyHandler, largePic }) => {\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', ModalCloseKeyHandler);\r\n\r\n  }, );\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      window.removeEventListener('keydown', ModalCloseKeyHandler);\r\n    };\r\n\r\n  }, );\r\n\r\n  return (\r\n    <div className=\"Overlay\" onClick={ModalCloseClickHandler}>\r\n      <div className=\"Modal\">\r\n        <img src={largePic} alt=\"Large pic\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nModal.propTypes = {\r\n  ModalCloseClickHandler: PropTypes.func.isRequired,\r\n  ModalCloseKeyHandler: PropTypes.func.isRequired,\r\n  largePic: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Modal;","import PropTypes from 'prop-types';\r\nimport Modal from '../Modal';\r\nimport { useState } from 'react';\r\n\r\nconst ImageGalleryItem = ({ largeImageURL, webformatURL }) => {\r\n    const [isModal, setIsModal] = useState(false);\r\n\r\n    const openModal = event => {\r\n        event.preventDefault();\r\n        setIsModal(true);\r\n    };\r\n\r\n    const closeModal = event => {\r\n        event.target.tagName === 'DIV' && setIsModal(false);\r\n    };\r\n\r\n    const closeModalByEsc = event => {\r\n        event.key === 'Escape' && setIsModal(false);\r\n    };\r\n\r\n    return (\r\n        <li className=\"ImageGalleryItem\">\r\n            {isModal === true && (\r\n                <Modal\r\n                    ModalCloseClickHandler={closeModal}\r\n                    ModalCloseKeyHandler={closeModalByEsc}\r\n                    largePic={largeImageURL}\r\n                />\r\n            )}\r\n            <a href={largeImageURL} onClick={openModal}>\r\n                <img src={webformatURL} alt=\"\" className=\"ImageGalleryItem-image\" />\r\n            </a>\r\n        </li>\r\n    );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n    largeImageURL: PropTypes.string.isRequired,\r\n    webformatURL: PropTypes.string.isRequired,\r\n};\r\nexport default ImageGalleryItem;","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\n\r\nconst ImageGallery = ({ gallery }) => {\r\n  return (\r\n      <ul className=\"ImageGallery\">\r\n        {gallery.map(({ id, webformatURL, largeImageURL }) => {\r\n          return (\r\n              <ImageGalleryItem\r\n                  key={id}\r\n                  webformatURL={webformatURL}\r\n                  largeImageURL={largeImageURL}\r\n              />\r\n          );\r\n        })}\r\n      </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  gallery: PropTypes.arrayOf(String).isRequired,\r\n};\r\n\r\nexport default ImageGallery;","import PropTypes from 'prop-types';\n\n\nconst Button = ({ onClick, children, status }) => {\n  return (\n    <div className='loader_wrapper'>\n      <div className='loader'>{status === 'pending' && children()}</div>\n      {status === 'resolved' && (\n        <button className='Button' type=\"button\" onClick={onClick}>\n          Load more\n        </button>\n      )}\n    </div>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  children: PropTypes.func.isRequired,\n  status: PropTypes.string.isRequired,\n};\n\nexport default Button;","\n\nimport axios from 'axios';\n\n//pixabay\nfunction getServerResponse(q = '', page) {\n  const sendParam = {\n    key: '24259107-5370b13ebcd4de04825255a0d',\n    q: '',\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n    per_page: 12,\n    page: 1,\n  };\n\n  sendParam.q = q;\n  sendParam.page = page;\n\n  const response = axios.get('https://pixabay.com/api/', {\n    params: sendParam,\n  });\n\n  return response.then(({ data }) => data);\n}\n\nexport default getServerResponse;","import Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nconst LoaderPreLoader = () => {\r\n  return (\r\n    <Loader\r\n      className=\"Loader\"\r\n      type=\"MutatingDots\"\r\n      color=\"#00BFFF\"\r\n      height={80}\r\n      width={80}\r\n      timeout={4000}\r\n    />\r\n  );\r\n};\r\n\r\nexport default LoaderPreLoader;","import SearchBar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport getServerResponse from './services/ApiService';\nimport Loader from './components/Loader';\n\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport { useState, useEffect } from 'react';\n\nimport './App.css';\nimport React from 'react';\n\nconst App = () => {\n  const [gallery, setGallery] = useState([]);\n  const [status, setStatus] = useState('idle');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [page, setPage] = useState(1);\n\n  const onSubmit = searchQuery => {\n    setGallery([]);\n    setPage(1);\n\n    if (searchQuery.trim() === '') {\n      setStatus('idle');\n      setSearchQuery(searchQuery);\n    } else {\n      setSearchQuery(searchQuery);\n    }\n  };\n\n  const pagination = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n\n  useEffect(() => {\n    if (searchQuery.trim() !== '') {\n      setStatus('pending');\n      getServerResponse(searchQuery, page)\n        .then(({ hits }) => {\n          setGallery(prevGallery => {\n            return prevGallery.concat(\n              hits.map(({ id, webformatURL, largeImageURL }) => ({\n                id,\n                webformatURL,\n                largeImageURL,\n              })),\n            );\n          });\n          setStatus('resolved');\n          if (page > 1) {\n            window.scrollBy({\n              top: document.documentElement.scrollHeight,\n              behavior: 'smooth',\n            });\n          }\n        })\n        .catch(err => {\n          alert(err.message);\n          throw err;\n        });\n    }\n\n  }, [searchQuery, page]);\n\n  if (status === 'idle') {\n    return (\n      <div className=\"App\">\n        <SearchBar onSubmitHandler={onSubmit} />\n        Please type what you want to find...\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"App\">\n      <SearchBar onSubmitHandler={onSubmit} />\n      {(status === 'pending' || status === 'resolved') && (\n        <>\n          <ImageGallery gallery={gallery} />\n          <Button onClick={pagination} status={status}>\n            {() => <Loader color=\"tomato\" height={100} width={100} />}\n          </Button>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default App;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}